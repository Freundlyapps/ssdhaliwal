---
interface Props {
  lang?: 'en' | 'de';
}

const { lang = 'en' } = Astro.props;

const services = {
  en: [
    {
      icon: 'üöÄ',
      title: 'Custom SaaS Builds',
      description: 'AI-integrated apps from scratch. From idea to working product.',
      features: ['User authentication', 'Payment integration', 'CMS & documentation', ' scalable architecture'],
      price: '‚Ç¨1,800+',
      cta: 'Get Quote',
    },
    {
      icon: 'üåê',
      title: 'Website Development',
      description: 'Responsive, fast websites on no-code platforms. Perfect for portfolios and products.',
      features: ['Mobile-responsive', 'CMS for easy updates', 'SEO optimized', 'Contact forms'],
      price: '‚Ç¨450-2,700',
      cta: 'Get Quote',
    },
    {
      icon: 'ü§ñ',
      title: 'AI Problem-Solving',
      description: 'Custom AI tools from scratch. Need something that doesn\'t exist? Let\'s build it.',
      features: ['Script-to-video generators', 'Content automation', 'PDF/image processing', 'Custom workflows'],
      price: '‚Ç¨90/hour',
      cta: 'Book Call',
    },
    {
      icon: 'üîå',
      title: 'API Integrations',
      description: 'Connect your favorite tools. Expert in Facebook, LinkedIn, and OpenAI APIs.',
      features: ['Facebook OAuth', 'LinkedIn sharing', 'OpenAI GPT-4', 'Custom webhooks'],
      price: '‚Ç¨270-450',
      cta: 'Discuss',
    },
    {
      icon: 'üìã',
      title: 'Consulting & Audits',
      description: 'Not sure where to start? Let\'s map out your solution together.',
      features: ['Requirements analysis', 'Platform recommendation', 'Implementation roadmap', 'Free resources'],
      price: 'Free Intro',
      cta: 'Book Free',
    },
  ],
  de: [
    {
      icon: 'üöÄ',
      title: 'Individuelle SaaS-Entwicklung',
      description: 'KI-integrierte Apps von Grund auf. Von der Idee zum funktionierenden Produkt.',
      features: ['User-Authentifizierung', 'Zahlungsintegration', 'CMS & Dokumentation', 'Skalierbare Architektur'],
      price: 'ab ‚Ç¨1.800',
      cta: 'Angebot anfordern',
    },
    {
      icon: 'üåê',
      title: 'Webentwicklung',
      description: 'Responsive, schnelle Websites auf No-Code-Basis. Perfekt f√ºr Portfolios und Produkte.',
      features: ['Mobile-optimiert', 'CMS f√ºr einfache Updates', 'SEO-optimiert', 'Kontaktformulare'],
      price: '‚Ç¨450-2.700',
      cta: 'Angebot anfordern',
    },
    {
      icon: 'ü§ñ',
      title: 'KI-L√∂sungen',
      description: 'Ma√ügeschneiderte KI-Tools von Grund auf. Ben√∂tigen Sie etwas, das noch nicht existiert?',
      features: ['Script-zu-Video-Generatoren', 'Content-Automatisierung', 'PDF/Bild-Verarbeitung', 'Custom Workflows'],
      price: '‚Ç¨90/Stunde',
      cta: 'Gespr√§ch buchen',
    },
    {
      icon: 'üîå',
      title: 'API-Integrationen',
      description: 'Verbinden Sie Ihre Lieblings-Tools. Experte f√ºr Facebook, LinkedIn und OpenAI APIs.',
      features: ['Facebook OAuth', 'LinkedIn Sharing', 'OpenAI GPT-4', 'Eigene Webhooks'],
      price: '‚Ç¨270-450',
      cta: 'Besprechen',
    },
    {
      icon: 'üìã',
      title: 'Beratung & Audits',
      description: 'Nicht sicher, wo Sie anfangen sollen? Lassen Sie uns gemeinsam eine L√∂sung entwickeln.',
      features: ['Anforderungsanalyse', 'Plattform-Empfehlung', 'Implementierungs-Roadmap', 'Kostenlose Ressourcen'],
      price: 'Kostenloses Erstgespr√§ch',
      cta: 'Kostenlos buchen',
    },
  ],
};

const t = {
  en: {
    sectionTitle: 'Services',
    sectionSubtitle: 'What I can do for you',
  },
  de: {
    sectionTitle: 'Leistungen',
    sectionSubtitle: 'Was ich f√ºr Sie tun kann',
  },
};

const currentServices = services[lang];
const labels = t[lang];
const isGerman = lang === 'de';
---

<section id="services" class="py-20 bg-gray-50 dark:bg-[#0a0a0a]">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
        {labels.sectionTitle}
      </h2>
      <p class="text-xl text-gray-600 dark:text-gray-400">
        {labels.sectionSubtitle}
      </p>
    </div>

    <!-- Services Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {currentServices.map((service, index) => (
        <div
          class={`bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 ${index === 4 ? 'md:col-span-2 lg:col-span-1' : ''}`}
        >
          <!-- Icon -->
          <div class="w-16 h-16 bg-gradient-to-br from-primary/20 to-accent/20 rounded-2xl flex items-center justify-center text-3xl mb-6">
            {service.icon}
          </div>

          <!-- Title & Price -->
          <div class="flex items-start justify-between mb-4">
            <h3 class="text-xl font-bold text-gray-900 dark:text-white">
              {service.title}
            </h3>
            <span class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold whitespace-nowrap ml-2">
              {service.price}
            </span>
          </div>

          <!-- Description -->
          <p class="text-gray-600 dark:text-gray-400 mb-6">
            {service.description}
          </p>

          <!-- Features -->
          <ul class="space-y-2 mb-6">
            {service.features.map((feature) => (
              <li class="flex items-start text-sm text-gray-600 dark:text-gray-400">
                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                {feature}
              </li>
            ))}
          </ul>

          <!-- CTA -->
          <a
            href={isGerman ? '/de/kontakt' : '/contact'}
            class="inline-flex items-center w-full justify-center px-6 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-semibold hover:bg-primary dark:hover:bg-primary hover:text-white dark:hover:text-white transition-colors"
          >
            {service.cta}
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      ))}
    </div>

    <!-- Bottom CTA -->
    <div class="mt-16 text-center">
      <p class="text-gray-600 dark:text-gray-400 mb-6">
        {isGerman ? 'Ben√∂tigen Sie eine ma√ügeschneiderte L√∂sung?' : 'Need something custom?'}
      </p>
      <a
        href={isGerman ? '/de/kontakt' : '/contact'}
        class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all"
      >
        {isGerman ? 'Lassen Sie uns sprechen' : 'Let\'s talk'}
        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
        </svg>
      </a>
    </div>
  </div>
</section>
