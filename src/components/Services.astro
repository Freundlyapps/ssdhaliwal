---
interface Props {
  lang?: 'en' | 'de';
}

const { lang = 'en' } = Astro.props;

const services = {
  en: [
    {
      icon: 'store',
      title: 'Websites for Local Businesses',
      description: 'Fast, professional websites for restaurants, coffee houses, barbers, pet services & more.',
      features: ['Mobile-optimized menus', 'Click-to-call ordering', 'Google Maps integration', 'GDPR compliant'],
      price: '€450-2,700',
      cta: 'Get Quote',
    },
    {
      icon: 'calendar',
      title: 'Booking & Scheduling Systems',
      description: 'Online booking for appointments, tables, and services. No more phone tag.',
      features: ['Real-time availability', 'Automated reminders', 'Calendar sync', 'Mobile-friendly'],
      price: '€675-1,800',
      cta: 'Get Quote',
    },
    {
      icon: 'cart',
      title: 'Online Ordering Systems',
      description: 'Take orders online for pickup or delivery. Perfect for restaurants & food service.',
      features: ['Digital menu builder', 'Payment integration', 'Order management', 'Customer notifications'],
      price: '€900-2,250',
      cta: 'Get Quote',
    },
    {
      icon: 'chip',
      title: 'AI Automation',
      description: 'Automate repetitive tasks like customer responses, social media, and data entry.',
      features: ['AI chatbots', 'Auto-replies', 'Workflow automation', '24/7 operation'],
      price: '€90/hour',
      cta: 'Book Call',
    },
    {
      icon: 'plug',
      title: 'API Integrations',
      description: 'Connect your tools like delivery platforms, payment processors, and CRM systems.',
      features: ['Delivery.com', 'Mollendo/Stripe', 'HubSpot/Salesforce', 'Custom webhooks'],
      price: '€270-450',
      cta: 'Discuss',
    },
    {
      icon: 'clipboard',
      title: 'Free Audit & Consultation',
      description: 'Not sure where to start? Let\'s analyze your business and find quick wins.',
      features: ['Digital presence review', 'Quick-win recommendations', 'Platform selection', 'No obligation'],
      price: 'Free',
      cta: 'Book Free',
    },
  ],
  de: [
    {
      icon: 'store',
      title: 'Websites für lokale Unternehmen',
      description: 'Schnelle, professionelle Websites für Restaurants, Cafés, Friseure, Tierdienste und mehr.',
      features: ['Mobile-optimierte Speisekarten', 'Click-to-Call Bestellung', 'Google Maps Integration', 'DSGVO-konform'],
      price: '€450-2.700',
      cta: 'Angebot anfordern',
    },
    {
      icon: 'calendar',
      title: 'Buchungs- & Terminsysteme',
      description: 'Online-Buchung für Termine, Tische und Dienstleistungen. Kein Telefon-Tag mehr.',
      features: ['Echtzeit-Verfügbarkeit', 'Automatische Erinnerungen', 'Kalender-Sync', 'Mobile-freundlich'],
      price: '€675-1.800',
      cta: 'Angebot anfordern',
    },
    {
      icon: 'cart',
      title: 'Online-Bestellsysteme',
      description: 'Bestellungen online für Abholung oder Lieferung. Perfekt für Restaurants & Gastronomie.',
      features: ['Digitale Speisekarten', 'Zahlungsintegration', 'Bestellmanagement', 'Kundenbenachrichtigung'],
      price: '€900-2.250',
      cta: 'Angebot anfordern',
    },
    {
      icon: 'chip',
      title: 'KI-Automatisierung',
      description: 'Automatisieren Sie wiederkehrende Aufgaben wie Kundenantworten, Social Media und Dateneingabe.',
      features: ['KI-Chatbots', 'Auto-Antworten', 'Workflow-Automatisierung', '24/7 Betrieb'],
      price: '€90/Stunde',
      cta: 'Gespräch buchen',
    },
    {
      icon: 'plug',
      title: 'API-Integrationen',
      description: 'Verbinden Sie Ihre Tools wie Lieferplattformen, Zahlungsanbieter und CRM-Systeme.',
      features: ['Delivery.com', 'Mollendo/Stripe', 'HubSpot/Salesforce', 'Eigene Webhooks'],
      price: '€270-450',
      cta: 'Besprechen',
    },
    {
      icon: 'clipboard',
      title: 'Kostenloses Audit & Beratung',
      description: 'Nicht sicher, wo Sie anfangen sollen? Lassen Sie uns Ihr Unternehmen analysieren.',
      features: ['Online-Präsenz-Check', 'Quick-Win-Empfehlungen', 'Plattform-Auswahl', 'Keine Verpflichtung'],
      price: 'Kostenlos',
      cta: 'Kostenlos buchen',
    },
  ],
};

const icons: Record<string, string> = {
  store: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>`,
  calendar: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>`,
  cart: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>`,
  chip: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" /></svg>`,
  plug: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 015.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>`,
  clipboard: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>`,
};

const t = {
  en: {
    sectionTitle: 'Services',
    sectionSubtitle: 'What I can do for you',
    customSolution: 'Need something custom?',
    letsTalk: 'Let\'s talk',
  },
  de: {
    sectionTitle: 'Leistungen',
    sectionSubtitle: 'Was ich für Sie tun kann',
    customSolution: 'Benötigen Sie eine maßgeschneiderte Lösung?',
    letsTalk: 'Lassen Sie uns sprechen',
  },
};

const currentServices = services[lang];
const labels = t[lang];
const isGerman = lang === 'de';
---

<section id="services" class="py-20 bg-gray-50 dark:bg-[#0a0a0a]">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16 reveal">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
        {labels.sectionTitle}
      </h2>
      <p class="text-xl text-gray-600 dark:text-gray-400">
        {labels.sectionSubtitle}
      </p>
    </div>

    <!-- Services Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {currentServices.map((service, index) => (
        <div class="group bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-transparent hover:border-primary/30 reveal" style={`transition-delay: ${index * 0.1}s;`}>
          <!-- Icon -->
          <div class="w-16 h-16 flex items-center justify-center text-primary mb-6 group-hover:scale-110 transition-all duration-300">
            <div set:html={icons[service.icon]} />
          </div>

          <!-- Title & Price -->
          <div class="flex items-start justify-between mb-4">
            <h3 class="text-xl font-bold text-gray-900 dark:text-white group-hover:text-primary transition-colors">
              {service.title}
            </h3>
            <span class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold whitespace-nowrap ml-2 group-hover:bg-primary group-hover:text-white transition-colors">
              {service.price}
            </span>
          </div>

          <!-- Description -->
          <p class="text-gray-600 dark:text-gray-400 mb-6">
            {service.description}
          </p>

          <!-- Features -->
          <ul class="space-y-2 mb-6">
            {service.features.map((feature) => (
              <li class="flex items-start text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-gray-200 transition-colors">
                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                {feature}
              </li>
            ))}
          </ul>

          <!-- CTA -->
          <a
            href={isGerman ? '/de#contact' : '#contact'}
            class="inline-flex items-center w-full justify-center px-6 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-semibold hover:bg-primary hover:text-white hover:scale-105 transition-all duration-300"
          >
            {service.cta}
            <svg class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      ))}
    </div>

    <!-- Bottom CTA -->
    <div class="mt-16 text-center">
      <p class="text-gray-600 dark:text-gray-400 mb-6">
        {labels.customSolution}
      </p>
      <a
        href={isGerman ? '/de#contact' : '#contact'}
        class="inline-flex items-center px-8 py-4 bg-primary hover:bg-blue-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all"
      >
        {labels.letsTalk}
        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
        </svg>
      </a>
    </div>
  </div>
</section>
